<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Signup | Public Complaint Platform</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

  <style>
    body {
      background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    main {
      flex: 1 0 auto;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 40px 15px;
    }

    .signup-card {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      padding: 30px 25px;
      border-radius: 15px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 400px;
    }

    .signup-card h1 {
      font-size: 28px;
      color: #343a40;
      margin-bottom: 25px;
    }

    .signup-card h2 {
      font-size: 18px;
      color: #495057;
      margin-top: 15px;
    }

    .form-control, .form-select {
      border-radius: 8px;
      padding: 10px 12px;
      margin-bottom: 12px;
      border: 1px solid rgba(0,0,0,0.2);
      transition: all 0.3s ease-in-out;
    }

    .form-control:focus, .form-select:focus {
      border-color: #007bff;
      box-shadow: 0 0 5px rgba(0,123,255,0.3);
      outline: none;
    }

    button {
      background-color: #28a745;
      color: #fff;
      font-weight: bold;
      border-radius: 8px;
      width: 100%;
      padding: 10px;
      border: none;
      transition: background 0.3s ease-in-out;
    }

    button:hover {
      background-color: #218838;
    }

    .switch {
      margin-top: 15px;
      text-align: center;
    }

    .switch a {
      color: #007bff;
      text-decoration: none;
    }

    .switch a:hover {
      text-decoration: underline;
    }

    footer {
      background-color: #343a40;
      color: #fff;
      text-align: center;
      padding: 15px 0;
      flex-shrink: 0;
    }

    @media (max-width: 576px) {
      .signup-card {
        width: 95%;
        padding: 25px 15px;
      }
    }
  </style>
</head>
<body>

  <!-- Header -->
  <%- include("partials/header") %>

  <main>
    <div class="signup-card">
      <h1>Sign Up</h1>

      <form action="/signup" method="POST" onsubmit="return validateForm(event)">
        <input id="username" type="text" placeholder="Enter username" required name="username" class="form-control">
        <input id="email" type="email" placeholder="Email" required name="email" class="form-control">
        <input id="mobile" type="number" placeholder="Mobile No" required name="mobile" class="form-control">
        <input id="password" type="password" placeholder="Password" required name="password" class="form-control">

        <h2>Select District, Taluka, and Village</h2>

        <label for="district" class="form-label">District:</label>
        <select id="district" name="district" class="form-select" onchange="updateTalukas()">
          <option value="">-- Select District --</option>
        </select>

        <label for="taluka" class="form-label">Taluka:</label>
        <select id="taluka" name="taluka" class="form-select" disabled>
          <option value="">-- Select Taluka --</option>
        </select>

        <label for="village" class="form-label">Village/Nagar:</label>
        <input type="text" id="village" name="village" placeholder="Enter village or nagar" class="form-control">

        <label for="role" class="form-label">Select Role:</label>
        <select id="role" name="role" class="form-select">
          <option value="Civilian">Civilian</option>
          <option value="Area Representative">Area Representative</option>
        </select>

        <button id="submit" type="submit">Sign Up</button>
      </form>

      <p class="switch">Already have an account? <a href="/">Login</a></p>
    </div>
  </main>

  <!-- Footer -->
  <%- include("partials/footer") %>

  <script>
    const stateDistrictTalukas = {
     "Maharashtra": { "Ahmednagar": ["Akole", "Jamkhed", "Karjat", "Kopargaon", "Nagar", "Nevasa", "Parner", "Pathardi", "Rahata", "Rahuri", "Sangamner", "Shevgaon", "Shrigonda", "Shrirampur"], "Akola": ["Akola", "Akot", "Balapur", "Barshitakli", "Murtijapur", "Patur", "Telhara"], "Amravati": ["Amravati", "Achalpur", "Chandur Railway", "Daryapur", "Morshi", "Nandgaon-Khandeshwar", "Warud", "Bhatkuli", "Chandur Bazar", "Dhamangaon Railway", "Teosa"], "Aurangabad": ["Aurangabad", "Kannad", "Sillod", "Phulambri", "Vaijapur", "Gangapur", "Paithan", "Soygaon"], "Beed": ["Beed", "Ashti", "Georai", "Kaij", "Majalgaon", "Parli", "Patoda", "Shirur (Kasar)", "Wadwani", "Ambejogai"], "Bhandara": ["Bhandara", "Tumsar", "Sakoli", "Lakhani", "Pauni", "Mohadi", "Lakhandur"], "Buldhana": ["Buldhana", "Chikhli", "Deulgaon Raja", "Jalgaon Jamod", "Khamgaon", "Lonar", "Malkapur", "Mehkar", "Motala", "Nandura", "Shegaon"], "Chandrapur": ["Chandrapur", "Ballarpur", "Brahmapuri", "Mul", "Nagbhid", "Pombhurna", "Rajura", "Sawali", "Sindewahi", "Warora", "Gondpipri", "Jiwati", "Korpana"], "Dhule": ["Dhule", "Sakri", "Shirpur", "Sindkheda"], "Gadchiroli": ["Gadchiroli", "Aheri", "Armori", "Bhamragad", "Chamorshi", "Dhanora", "Desaiganj (Wadsa)", "Etapalli", "Kurkheda", "Mulchera", "Sironcha"], "Gondia": ["Gondia", "Amgaon", "Arjuni Morgaon", "Deori", "Goregaon", "Sadak Arjuni", "Salekasa", "Tirora"], "Hingoli": ["Hingoli", "Aundha (Nagnath)", "Basmat", "Kalamnuri", "Sengaon"], "Jalgaon": ["Jalgaon", "Amalner", "Bhadgaon", "Bhusawal", "Bodwad", "Chalisgaon", "Chopda", "Dharangaon", "Erandol", "Jalgaon", "Jamner", "Muktainagar", "Pachora", "Parola", "Raver", "Yawal"], "Jalna": ["Jalna", "Ambad", "Badnapur", "Bhokardan", "Ghansawangi", "Jafrabad", "Mantha", "Partur"], "Kolhapur": ["Karvir", "Panhala", "Shahuwadi", "Kagal", "Hatkanangale", "Shirol", "Radhanagari", "Gaganbawada", "Bhudargad", "Gadhinglaj", "Chandgad", "Ajra"], "Latur": ["Latur", "Ahmadpur", "Ausa", "Chakur", "Deoni", "Jalkot", "Nilanga", "Renapur", "Shirur-Anantpal", "Udgir"], "Mumbai": [], "Mumbai Suburban": ["Andheri", "Borivali", "Kurla"], "Nagpur": ["Nagpur", "Hingna", "Kamthi", "Katol", "Kuhi", "Mauda", "Narkhed", "Parseoni", "Ramtek", "Saoner", "Umred"], "Nanded": ["Nanded", "Ardhapur", "Bhokar", "Biloli", "Deglur", "Dharmabad", "Hadgaon", "Himayatnagar", "Kandhar", "Kinwat", "Loha", "Mahoor", "Mudkhed", "Mukhed", "Naigaon"], "Nandurbar": ["Nandurbar", "Akkalkuwa", "Akrani", "Shahada", "Talode", "Navapur"], "Osmanabad": ["Osmanabad", "Bhum", "Kalamb", "Lohara", "Omerga", "Paranda", "Tuljapur", "Washi"], "Palghar": ["Palghar", "Dahanu", "Talasari", "Vasai", "Vikramgad", "Jawhar", "Mokhada", "Wada"], "Parbhani": ["Parbhani", "Gangakhed", "Jintur", "Manwath", "Pathri", "Purna", "Sailu", "Sonpeth"], "Solapur": ["Solapur", "Akkalkot", "Barshi", "Karmala", "Madha", "Mangalwedha", "Malshiras", "Mohol", "Pandharpur", "Sangole"], "Wardha": ["Wardha", "Arvi", "Ashti", "Deoli", "Hinganghat", "Karanja", "Samudrapur", "Seloo"], "Washim": ["Washim", "Karanja", "Mangrulpir", "Malegaon", "Manora", "Risod"], "Yavatmal": ["Yavatmal", "Arni", "Babulgaon", "Darwha", "Digras", "Ghatanji", "Kalamb", "Mahagaon", "Maregaon", "Ner", "Pusad", "Ralegaon", "Umarkhed", "Wani", "Zari Jamni"] } };
    function updateDistricts() {
      const districtSelect = document.getElementById("district");
      districtSelect.innerHTML = "<option value=''>-- Select District --</option>";
      Object.keys(stateDistrictTalukas["Maharashtra"]).forEach(district => {
        const option = document.createElement("option");
        option.value = district;
        option.textContent = district;
        districtSelect.appendChild(option);
      });
    }

    function updateTalukas() {
      const districtSelect = document.getElementById("district");
      const talukaSelect = document.getElementById("taluka");
      const selectedDistrict = districtSelect.value;
      const talukas = stateDistrictTalukas["Maharashtra"][selectedDistrict] || [];
      talukaSelect.innerHTML = "<option value=''>-- Select Taluka --</option>";
      talukas.forEach(t => {
        const option = document.createElement("option");
        option.value = t;
        option.textContent = t;
        talukaSelect.appendChild(option);
      });
      talukaSelect.disabled = talukas.length === 0;
    }

    function validateForm(event) {
      const districtSelect = document.getElementById("district");
      if (!districtSelect.value) {
        alert("Please select a district.");
        event.preventDefault();
        return false;
      }
      return true;
    }

    window.onload = updateDistricts;
  </script>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
